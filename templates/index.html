<!DOCTYPE html>
<html>
<head>
    <title>Telegram Dashboard</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        #accounts button { margin: 5px; padding: 8px 12px; }
        #messages { margin-top: 20px; }
        .chat { border: 1px solid #ccc; margin-bottom: 15px; padding: 10px; border-radius: 8px; }
        .chat h3 { margin: 0 0 10px 0; }
        .chat p { margin: 5px 0; }
    </style>
    <script>
       async function loadMessages(phone) {
    let res = await fetch("/messages/" + phone);
    let data = await res.json();
    let box = document.getElementById("messages");
    box.innerHTML = "";

    if (!data.chats || data.chats.length === 0) {
        box.innerHTML = "<p>No messages found for this account.</p>";
        return;
    }

    data.chats.forEach(chat => {
        let div = document.createElement("div");
        div.className = "chat";

        let title = document.createElement("h3");
        title.innerText = chat.title;
        div.appendChild(title);

        chat.messages.forEach(m => {
            let p = document.createElement("p");
            p.innerText = (m.sender || "Unknown") + ": " + (m.text || "[no text]");
            div.appendChild(p);
        });

        box.appendChild(div);
    });
}


        window.onload = () => { loadAccounts(); };
    </script>
</head>
<body>
    <h2>Telegram Multi-Account Dashboard</h2>
    <div id="accounts"></div>
    <hr>
    <div id="messages"></div>
</body>
</html>
